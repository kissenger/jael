{"id":"FJDe","dependencies":[{"name":"/home/travis/build/geotiffjs/geotiff.js/.babelrc","includedInParent":true,"mtime":1586203732481},{"name":"/home/travis/build/geotiffjs/geotiff.js/package.json","includedInParent":true,"mtime":1586203732493},{"name":"@babel/runtime/helpers/classCallCheck","parent":"/home/travis/build/geotiffjs/geotiff.js/src/compression/basedecoder.js","resolved":"/home/travis/build/geotiffjs/geotiff.js/node_modules/@babel/runtime/helpers/classCallCheck.js"},{"name":"@babel/runtime/helpers/createClass","parent":"/home/travis/build/geotiffjs/geotiff.js/src/compression/basedecoder.js","resolved":"/home/travis/build/geotiffjs/geotiff.js/node_modules/@babel/runtime/helpers/createClass.js"},{"name":"../predictor","loc":{"line":1,"column":31},"parent":"/home/travis/build/geotiffjs/geotiff.js/src/compression/basedecoder.js","resolved":"/home/travis/build/geotiffjs/geotiff.js/src/predictor.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=i(require(\"@babel/runtime/helpers/classCallCheck\")),r=i(require(\"@babel/runtime/helpers/createClass\")),t=require(\"../predictor\");function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){function i(){(0,e.default)(this,i)}return(0,r.default)(i,[{key:\"decode\",value:function(e,r){var i=this.decodeBlock(r),a=e.Predictor||1;if(1!==a){var u=!e.StripOffsets,l=u?e.TileWidth:e.ImageWidth,n=u?e.TileLength:e.RowsPerStrip||e.ImageLength;return(0,t.applyPredictor)(i,a,l,n,e.BitsPerSample,e.PlanarConfiguration)}return i}}]),i}();exports.default=a;"},"sourceMaps":{"js":{"mappings":[{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":0}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":13}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":20}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":35}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":43}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":56}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":57}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":64}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":68}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":76}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":89}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":91}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":95}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":97}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":99}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":107}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":149}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":151}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":153}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":161}},{"source":"compression/basedecoder.js","original":{"line":1,"column":0},"generated":{"line":1,"column":200}},{"source":"compression/basedecoder.js","original":{"line":1,"column":0},"generated":{"line":1,"column":202}},{"source":"compression/basedecoder.js","original":{"line":1,"column":0},"generated":{"line":1,"column":210}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":226}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":235}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":237}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":240}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":247}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":250}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":252}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":263}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":265}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":266}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":274}},{"source":"compression/basedecoder.js","name":"BaseDecoder","original":{"line":3,"column":21},"generated":{"line":1,"column":277}},{"source":"compression/basedecoder.js","name":"BaseDecoder","original":{"line":3,"column":21},"generated":{"line":1,"column":281}},{"source":"compression/basedecoder.js","name":"BaseDecoder","original":{"line":3,"column":21},"generated":{"line":1,"column":283}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":294}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":303}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":308}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":310}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":312}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":321}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":326}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":329}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":336}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":338}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":340}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":349}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":351}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":352}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":353}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":357}},{"source":"compression/basedecoder.js","name":"fileDirectory","original":{"line":4,"column":9},"generated":{"line":1,"column":366}},{"source":"compression/basedecoder.js","name":"fileDirectory","original":{"line":4,"column":9},"generated":{"line":1,"column":372}},{"source":"compression/basedecoder.js","name":"fileDirectory","original":{"line":4,"column":9},"generated":{"line":1,"column":381}},{"source":"compression/basedecoder.js","name":"buffer","original":{"line":4,"column":24},"generated":{"line":1,"column":383}},{"source":"compression/basedecoder.js","name":"decoded","original":{"line":5,"column":10},"generated":{"line":1,"column":386}},{"source":"compression/basedecoder.js","name":"decoded","original":{"line":5,"column":10},"generated":{"line":1,"column":390}},{"source":"compression/basedecoder.js","original":{"line":5,"column":20},"generated":{"line":1,"column":392}},{"source":"compression/basedecoder.js","name":"decodeBlock","original":{"line":5,"column":25},"generated":{"line":1,"column":397}},{"source":"compression/basedecoder.js","name":"buffer","original":{"line":5,"column":37},"generated":{"line":1,"column":409}},{"source":"compression/basedecoder.js","name":"predictor","original":{"line":6,"column":10},"generated":{"line":1,"column":412}},{"source":"compression/basedecoder.js","name":"fileDirectory","original":{"line":6,"column":22},"generated":{"line":1,"column":414}},{"source":"compression/basedecoder.js","name":"Predictor","original":{"line":6,"column":36},"generated":{"line":1,"column":416}},{"source":"compression/basedecoder.js","original":{"line":6,"column":49},"generated":{"line":1,"column":427}},{"source":"compression/basedecoder.js","name":"predictor","original":{"line":7,"column":8},"generated":{"line":1,"column":429}},{"source":"compression/basedecoder.js","original":{"line":7,"column":22},"generated":{"line":1,"column":432}},{"source":"compression/basedecoder.js","name":"predictor","original":{"line":7,"column":8},"generated":{"line":1,"column":436}},{"source":"compression/basedecoder.js","original":{"line":7,"column":25},"generated":{"line":1,"column":438}},{"source":"compression/basedecoder.js","name":"isTiled","original":{"line":8,"column":12},"generated":{"line":1,"column":439}},{"source":"compression/basedecoder.js","name":"isTiled","original":{"line":8,"column":12},"generated":{"line":1,"column":443}},{"source":"compression/basedecoder.js","name":"fileDirectory","original":{"line":8,"column":23},"generated":{"line":1,"column":446}},{"source":"compression/basedecoder.js","name":"StripOffsets","original":{"line":8,"column":37},"generated":{"line":1,"column":448}},{"source":"compression/basedecoder.js","name":"tileWidth","original":{"line":9,"column":12},"generated":{"line":1,"column":461}},{"source":"compression/basedecoder.js","name":"isTiled","original":{"line":9,"column":24},"generated":{"line":1,"column":463}},{"source":"compression/basedecoder.js","name":"fileDirectory","original":{"line":9,"column":34},"generated":{"line":1,"column":465}},{"source":"compression/basedecoder.js","name":"TileWidth","original":{"line":9,"column":48},"generated":{"line":1,"column":467}},{"source":"compression/basedecoder.js","name":"fileDirectory","original":{"line":9,"column":60},"generated":{"line":1,"column":477}},{"source":"compression/basedecoder.js","name":"ImageWidth","original":{"line":9,"column":74},"generated":{"line":1,"column":479}},{"source":"compression/basedecoder.js","name":"tileHeight","original":{"line":10,"column":12},"generated":{"line":1,"column":490}},{"source":"compression/basedecoder.js","name":"isTiled","original":{"line":10,"column":25},"generated":{"line":1,"column":492}},{"source":"compression/basedecoder.js","name":"fileDirectory","original":{"line":10,"column":35},"generated":{"line":1,"column":494}},{"source":"compression/basedecoder.js","name":"TileLength","original":{"line":10,"column":49},"generated":{"line":1,"column":496}},{"source":"compression/basedecoder.js","name":"fileDirectory","original":{"line":11,"column":8},"generated":{"line":1,"column":507}},{"source":"compression/basedecoder.js","name":"RowsPerStrip","original":{"line":11,"column":22},"generated":{"line":1,"column":509}},{"source":"compression/basedecoder.js","name":"fileDirectory","original":{"line":11,"column":38},"generated":{"line":1,"column":523}},{"source":"compression/basedecoder.js","name":"ImageLength","original":{"line":11,"column":52},"generated":{"line":1,"column":525}},{"source":"compression/basedecoder.js","original":{"line":13,"column":13},"generated":{"line":1,"column":537}},{"source":"compression/basedecoder.js","original":{"line":13,"column":13},"generated":{"line":1,"column":544}},{"source":"compression/basedecoder.js","name":"decoded","original":{"line":14,"column":8},"generated":{"line":1,"column":546}},{"source":"compression/basedecoder.js","name":"decoded","original":{"line":14,"column":8},"generated":{"line":1,"column":548}},{"source":"compression/basedecoder.js","name":"decoded","original":{"line":14,"column":8},"generated":{"line":1,"column":564}},{"source":"compression/basedecoder.js","name":"predictor","original":{"line":14,"column":17},"generated":{"line":1,"column":566}},{"source":"compression/basedecoder.js","name":"tileWidth","original":{"line":14,"column":28},"generated":{"line":1,"column":568}},{"source":"compression/basedecoder.js","name":"tileHeight","original":{"line":14,"column":39},"generated":{"line":1,"column":570}},{"source":"compression/basedecoder.js","name":"fileDirectory","original":{"line":14,"column":51},"generated":{"line":1,"column":572}},{"source":"compression/basedecoder.js","name":"BitsPerSample","original":{"line":14,"column":65},"generated":{"line":1,"column":574}},{"source":"compression/basedecoder.js","name":"fileDirectory","original":{"line":15,"column":8},"generated":{"line":1,"column":588}},{"source":"compression/basedecoder.js","name":"PlanarConfiguration","original":{"line":15,"column":22},"generated":{"line":1,"column":590}},{"source":"compression/basedecoder.js","name":"decoded","original":{"line":18,"column":11},"generated":{"line":1,"column":611}},{"source":"compression/basedecoder.js","name":"decoded","original":{"line":18,"column":11},"generated":{"line":1,"column":618}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":624}},{"source":"compression/basedecoder.js","name":"BaseDecoder","original":{"line":3,"column":21},"generated":{"line":1,"column":626}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":629}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":637}},{"source":"compression/basedecoder.js","original":{"line":19,"column":3},"generated":{"line":1,"column":645}}],"sources":{"compression/basedecoder.js":"import { applyPredictor } from '../predictor';\n\nexport default class BaseDecoder {\n  decode(fileDirectory, buffer) {\n    const decoded = this.decodeBlock(buffer);\n    const predictor = fileDirectory.Predictor || 1;\n    if (predictor !== 1) {\n      const isTiled = !fileDirectory.StripOffsets;\n      const tileWidth = isTiled ? fileDirectory.TileWidth : fileDirectory.ImageWidth;\n      const tileHeight = isTiled ? fileDirectory.TileLength : (\n        fileDirectory.RowsPerStrip || fileDirectory.ImageLength\n      );\n      return applyPredictor(\n        decoded, predictor, tileWidth, tileHeight, fileDirectory.BitsPerSample,\n        fileDirectory.PlanarConfiguration,\n      );\n    }\n    return decoded;\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"84d5b4afb55cfe0b416c3d4a74f0fd5c","cacheData":{"env":{}}}
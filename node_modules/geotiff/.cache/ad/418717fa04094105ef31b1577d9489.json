{"id":"Hy5Q","dependencies":[{"name":"/home/travis/build/geotiffjs/geotiff.js/package.json","includedInParent":true,"mtime":1586203732493},{"name":"/home/travis/build/geotiffjs/geotiff.js/node_modules/threads/package.json","includedInParent":true,"mtime":1586165210060},{"name":"debug","loc":{"line":15,"column":40},"parent":"/home/travis/build/geotiffjs/geotiff.js/node_modules/threads/dist/master/spawn.js","resolved":"/home/travis/build/geotiffjs/geotiff.js/node_modules/debug/src/browser.js"},{"name":"observable-fns","loc":{"line":16,"column":33},"parent":"/home/travis/build/geotiffjs/geotiff.js/node_modules/threads/dist/master/spawn.js","resolved":"/home/travis/build/geotiffjs/geotiff.js/node_modules/observable-fns/dist.esm/index.js"},{"name":"../common","loc":{"line":17,"column":25},"parent":"/home/travis/build/geotiffjs/geotiff.js/node_modules/threads/dist/master/spawn.js","resolved":"/home/travis/build/geotiffjs/geotiff.js/node_modules/threads/dist/common.js"},{"name":"../promise","loc":{"line":18,"column":26},"parent":"/home/travis/build/geotiffjs/geotiff.js/node_modules/threads/dist/master/spawn.js","resolved":"/home/travis/build/geotiffjs/geotiff.js/node_modules/threads/dist/promise.js"},{"name":"../symbols","loc":{"line":19,"column":26},"parent":"/home/travis/build/geotiffjs/geotiff.js/node_modules/threads/dist/master/spawn.js","resolved":"/home/travis/build/geotiffjs/geotiff.js/node_modules/threads/dist/symbols.js"},{"name":"../types/master","loc":{"line":20,"column":25},"parent":"/home/travis/build/geotiffjs/geotiff.js/node_modules/threads/dist/master/spawn.js","resolved":"/home/travis/build/geotiffjs/geotiff.js/node_modules/threads/dist/types/master.js"},{"name":"./invocation-proxy","loc":{"line":21,"column":35},"parent":"/home/travis/build/geotiffjs/geotiff.js/node_modules/threads/dist/master/spawn.js","resolved":"/home/travis/build/geotiffjs/geotiff.js/node_modules/threads/dist/master/invocation-proxy.js"},{"name":"process","parent":"/home/travis/build/geotiffjs/geotiff.js/node_modules/threads/dist/master/spawn.js","resolved":"/home/travis/build/geotiffjs/geotiff.js/node_modules/process/browser.js"}],"generated":{"js":"var process = require(\"process\");\nvar e=require(\"process\"),t=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(t){o(t)}}function a(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,\"__esModule\",{value:!0});const n=r(require(\"debug\")),i=require(\"observable-fns\"),o=require(\"../common\"),s=require(\"../promise\"),a=require(\"../symbols\"),u=require(\"../types/master\"),c=require(\"./invocation-proxy\"),d=n.default(\"threads:master:messages\"),m=n.default(\"threads:master:spawn\"),l=n.default(\"threads:master:thread-utils\"),f=e=>e&&\"init\"===e.type,p=e=>e&&\"uncaughtError\"===e.type,v=1e4;function h(e,r,n){return t(this,void 0,void 0,function*(){let t;const i=new Promise((e,i)=>{t=setTimeout(()=>i(Error(n)),r)}),o=yield Promise.race([e,i]);return clearTimeout(t),o})}function y(e){return new Promise((t,r)=>{const n=i=>{d(\"Message from worker before finishing initialization:\",i.data),f(i.data)?(e.removeEventListener(\"message\",n),t(i.data)):p(i.data)&&(e.removeEventListener(\"message\",n),r(o.deserialize(i.data.error)))};e.addEventListener(\"message\",n)})}function E(e,t){return new i.Observable(r=>{const n=e=>{const t={type:u.WorkerEventType.message,data:e.data};r.next(t)},i=e=>{l(\"Unhandled promise rejection event in thread:\",e);const t={type:u.WorkerEventType.internalError,error:Error(e.reason)};r.next(t)};e.addEventListener(\"message\",n),e.addEventListener(\"unhandledrejection\",i),t.then(()=>{const t={type:u.WorkerEventType.termination};e.removeEventListener(\"message\",n),e.removeEventListener(\"unhandledrejection\",i),r.next(t),r.complete()})})}function g(e){const[r,n]=s.createPromiseWithResolver();return{terminate:()=>t(this,void 0,void 0,function*(){l(\"Terminating worker\"),yield e.terminate(),n()}),termination:r}}function w(e,t,r,n){const i=r.filter(e=>e.type===u.WorkerEventType.internalError).map(e=>e.error);return Object.assign(e,{[a.$errors]:i,[a.$events]:r,[a.$terminate]:n,[a.$worker]:t})}function x(e,r){return t(this,void 0,void 0,function*(){m(\"Initializing new thread\");const t=(yield h(y(e),r&&r.timeout?r.timeout:v,`Timeout: Did not receive an init message from worker after ${v}ms. Make sure the worker calls expose().`)).exposed,{termination:n,terminate:i}=g(e),o=E(e,n);if(\"function\"===t.type){return w(c.createProxyFunction(e),e,o,i)}if(\"module\"===t.type){return w(c.createProxyModule(e,t.methods),e,o,i)}{const e=t.type;throw Error(`Worker init message states unexpected type of expose(): ${e}`)}})}exports.spawn=x;"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":142,"column":0},"generated":{"line":2,"column":0}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":142,"column":0},"generated":{"line":2,"column":4}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":142,"column":0},"generated":{"line":2,"column":6}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":142,"column":0},"generated":{"line":2,"column":14}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"__awaiter","original":{"line":2,"column":4},"generated":{"line":2,"column":25}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":2,"column":17},"generated":{"line":2,"column":27}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":2,"column":25},"generated":{"line":2,"column":33}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"__awaiter","original":{"line":2,"column":30},"generated":{"line":2,"column":38}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":2,"column":44},"generated":{"line":2,"column":49}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"thisArg","original":{"line":2,"column":54},"generated":{"line":2,"column":58}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"_arguments","original":{"line":2,"column":63},"generated":{"line":2,"column":60}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"P","original":{"line":2,"column":75},"generated":{"line":2,"column":62}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"generator","original":{"line":2,"column":78},"generated":{"line":2,"column":64}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":4,"column":11},"generated":{"line":2,"column":67}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":4,"column":11},"generated":{"line":2,"column":74}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"P","original":{"line":4,"column":16},"generated":{"line":2,"column":78}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"P","original":{"line":4,"column":22},"generated":{"line":2,"column":82}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"Promise","original":{"line":4,"column":26},"generated":{"line":2,"column":84}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":4,"column":36},"generated":{"line":2,"column":94}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"resolve","original":{"line":4,"column":46},"generated":{"line":2,"column":103}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"reject","original":{"line":4,"column":55},"generated":{"line":2,"column":105}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"fulfilled","original":{"line":5,"column":17},"generated":{"line":2,"column":108}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"fulfilled","original":{"line":5,"column":17},"generated":{"line":2,"column":117}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"value","original":{"line":5,"column":27},"generated":{"line":2,"column":119}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":5,"column":40},"generated":{"line":2,"column":122}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"step","original":{"line":5,"column":42},"generated":{"line":2,"column":126}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"generator","original":{"line":5,"column":47},"generated":{"line":2,"column":128}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"next","original":{"line":5,"column":57},"generated":{"line":2,"column":130}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"value","original":{"line":5,"column":62},"generated":{"line":2,"column":135}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":5,"column":73},"generated":{"line":2,"column":139}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"e","original":{"line":5,"column":80},"generated":{"line":2,"column":145}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"reject","original":{"line":5,"column":85},"generated":{"line":2,"column":148}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"e","original":{"line":5,"column":92},"generated":{"line":2,"column":150}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"rejected","original":{"line":6,"column":17},"generated":{"line":2,"column":154}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"rejected","original":{"line":6,"column":17},"generated":{"line":2,"column":163}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"value","original":{"line":6,"column":26},"generated":{"line":2,"column":165}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":6,"column":39},"generated":{"line":2,"column":168}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"step","original":{"line":6,"column":41},"generated":{"line":2,"column":172}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"generator","original":{"line":6,"column":46},"generated":{"line":2,"column":174}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":6,"column":55},"generated":{"line":2,"column":176}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"value","original":{"line":6,"column":65},"generated":{"line":2,"column":182}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":6,"column":76},"generated":{"line":2,"column":186}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"e","original":{"line":6,"column":83},"generated":{"line":2,"column":192}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"reject","original":{"line":6,"column":88},"generated":{"line":2,"column":195}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"e","original":{"line":6,"column":95},"generated":{"line":2,"column":197}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"step","original":{"line":7,"column":17},"generated":{"line":2,"column":201}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"step","original":{"line":7,"column":17},"generated":{"line":2,"column":210}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"result","original":{"line":7,"column":22},"generated":{"line":2,"column":212}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"adopt","original":{"line":3,"column":13},"generated":{"line":2,"column":215}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"value","original":{"line":3,"column":19},"generated":{"line":2,"column":219}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"result","original":{"line":7,"column":32},"generated":{"line":2,"column":221}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"done","original":{"line":7,"column":39},"generated":{"line":2,"column":223}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"resolve","original":{"line":7,"column":46},"generated":{"line":2,"column":228}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"result","original":{"line":7,"column":54},"generated":{"line":2,"column":230}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"value","original":{"line":7,"column":61},"generated":{"line":2,"column":232}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"value","original":{"line":3,"column":19},"generated":{"line":2,"column":240}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"result","original":{"line":7,"column":76},"generated":{"line":2,"column":242}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"value","original":{"line":7,"column":83},"generated":{"line":2,"column":244}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"value","original":{"line":3,"column":35},"generated":{"line":2,"column":250}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"P","original":{"line":3,"column":52},"generated":{"line":2,"column":263}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"value","original":{"line":3,"column":56},"generated":{"line":2,"column":265}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":3,"column":64},"generated":{"line":2,"column":267}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"P","original":{"line":3,"column":68},"generated":{"line":2,"column":271}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":3,"column":70},"generated":{"line":2,"column":273}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"resolve","original":{"line":3,"column":80},"generated":{"line":2,"column":282}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"resolve","original":{"line":3,"column":91},"generated":{"line":2,"column":285}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"value","original":{"line":3,"column":99},"generated":{"line":2,"column":287}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"then","original":{"line":7,"column":90},"generated":{"line":2,"column":293}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"fulfilled","original":{"line":7,"column":95},"generated":{"line":2,"column":298}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"rejected","original":{"line":7,"column":106},"generated":{"line":2,"column":300}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"step","original":{"line":8,"column":8},"generated":{"line":2,"column":303}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"generator","original":{"line":8,"column":14},"generated":{"line":2,"column":306}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"generator","original":{"line":8,"column":26},"generated":{"line":2,"column":308}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"apply","original":{"line":8,"column":36},"generated":{"line":2,"column":310}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"thisArg","original":{"line":8,"column":42},"generated":{"line":2,"column":316}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"_arguments","original":{"line":8,"column":51},"generated":{"line":2,"column":318}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":8,"column":65},"generated":{"line":2,"column":321}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"next","original":{"line":8,"column":70},"generated":{"line":2,"column":326}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"__importDefault","original":{"line":11,"column":4},"generated":{"line":2,"column":337}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":11,"column":23},"generated":{"line":2,"column":339}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":11,"column":31},"generated":{"line":2,"column":345}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"__importDefault","original":{"line":11,"column":36},"generated":{"line":2,"column":350}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":11,"column":56},"generated":{"line":2,"column":367}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"mod","original":{"line":11,"column":66},"generated":{"line":2,"column":376}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"mod","original":{"line":12,"column":12},"generated":{"line":2,"column":379}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"mod","original":{"line":12,"column":12},"generated":{"line":2,"column":386}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"mod","original":{"line":12,"column":19},"generated":{"line":2,"column":389}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"__esModule","original":{"line":12,"column":23},"generated":{"line":2,"column":391}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"mod","original":{"line":12,"column":37},"generated":{"line":2,"column":402}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":12,"column":43},"generated":{"line":2,"column":404}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"mod","original":{"line":12,"column":56},"generated":{"line":2,"column":405}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"mod","original":{"line":12,"column":56},"generated":{"line":2,"column":413}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"Object","original":{"line":14,"column":0},"generated":{"line":2,"column":417}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"defineProperty","original":{"line":14,"column":7},"generated":{"line":2,"column":424}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"exports","original":{"line":14,"column":22},"generated":{"line":2,"column":439}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":14,"column":31},"generated":{"line":2,"column":447}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":14,"column":45},"generated":{"line":2,"column":460}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"value","original":{"line":14,"column":47},"generated":{"line":2,"column":461}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":14,"column":54},"generated":{"line":2,"column":468}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":15,"column":0},"generated":{"line":2,"column":472}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"debug_1","original":{"line":15,"column":6},"generated":{"line":2,"column":478}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"__importDefault","original":{"line":15,"column":16},"generated":{"line":2,"column":480}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"require","original":{"line":15,"column":32},"generated":{"line":2,"column":482}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":15,"column":40},"generated":{"line":2,"column":490}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"observable_fns_1","original":{"line":16,"column":6},"generated":{"line":2,"column":500}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"require","original":{"line":16,"column":25},"generated":{"line":2,"column":502}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":16,"column":33},"generated":{"line":2,"column":510}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"common_1","original":{"line":17,"column":6},"generated":{"line":2,"column":528}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"require","original":{"line":17,"column":17},"generated":{"line":2,"column":530}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":17,"column":25},"generated":{"line":2,"column":538}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"promise_1","original":{"line":18,"column":6},"generated":{"line":2,"column":551}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"require","original":{"line":18,"column":18},"generated":{"line":2,"column":553}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":18,"column":26},"generated":{"line":2,"column":561}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"symbols_1","original":{"line":19,"column":6},"generated":{"line":2,"column":575}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"require","original":{"line":19,"column":18},"generated":{"line":2,"column":577}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":19,"column":26},"generated":{"line":2,"column":585}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"master_1","original":{"line":20,"column":6},"generated":{"line":2,"column":599}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"require","original":{"line":20,"column":17},"generated":{"line":2,"column":601}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":20,"column":25},"generated":{"line":2,"column":609}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"invocation_proxy_1","original":{"line":21,"column":6},"generated":{"line":2,"column":628}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"require","original":{"line":21,"column":27},"generated":{"line":2,"column":630}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":21,"column":35},"generated":{"line":2,"column":638}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"debugMessages","original":{"line":22,"column":6},"generated":{"line":2,"column":660}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"debug_1","original":{"line":22,"column":22},"generated":{"line":2,"column":662}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"default","original":{"line":22,"column":30},"generated":{"line":2,"column":664}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":22,"column":38},"generated":{"line":2,"column":672}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"debugSpawn","original":{"line":23,"column":6},"generated":{"line":2,"column":699}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"debug_1","original":{"line":23,"column":19},"generated":{"line":2,"column":701}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"default","original":{"line":23,"column":27},"generated":{"line":2,"column":703}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":23,"column":35},"generated":{"line":2,"column":711}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"debugThreadUtils","original":{"line":24,"column":6},"generated":{"line":2,"column":735}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"debug_1","original":{"line":24,"column":25},"generated":{"line":2,"column":737}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"default","original":{"line":24,"column":33},"generated":{"line":2,"column":739}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":24,"column":41},"generated":{"line":2,"column":747}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"isInitMessage","original":{"line":25,"column":6},"generated":{"line":2,"column":778}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"data","original":{"line":25,"column":23},"generated":{"line":2,"column":780}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"data","original":{"line":25,"column":32},"generated":{"line":2,"column":783}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":25,"column":54},"generated":{"line":2,"column":786}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"data","original":{"line":25,"column":40},"generated":{"line":2,"column":795}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"type","original":{"line":25,"column":45},"generated":{"line":2,"column":797}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"isUncaughtErrorMessage","original":{"line":26,"column":6},"generated":{"line":2,"column":802}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"data","original":{"line":26,"column":32},"generated":{"line":2,"column":804}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"data","original":{"line":26,"column":41},"generated":{"line":2,"column":807}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":26,"column":63},"generated":{"line":2,"column":810}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"data","original":{"line":26,"column":49},"generated":{"line":2,"column":828}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"type","original":{"line":26,"column":54},"generated":{"line":2,"column":830}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"initMessageTimeout","original":{"line":27,"column":6},"generated":{"line":2,"column":835}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":29,"column":6},"generated":{"line":2,"column":837}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":30,"column":0},"generated":{"line":2,"column":841}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"withTimeout","original":{"line":30,"column":9},"generated":{"line":2,"column":850}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"promise","original":{"line":30,"column":21},"generated":{"line":2,"column":852}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"timeoutInMs","original":{"line":30,"column":30},"generated":{"line":2,"column":854}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"errorMessage","original":{"line":30,"column":43},"generated":{"line":2,"column":856}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"__awaiter","original":{"line":31,"column":11},"generated":{"line":2,"column":859}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"__awaiter","original":{"line":31,"column":11},"generated":{"line":2,"column":866}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":31,"column":21},"generated":{"line":2,"column":868}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":31,"column":27},"generated":{"line":2,"column":878}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":31,"column":35},"generated":{"line":2,"column":885}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":31,"column":43},"generated":{"line":2,"column":887}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"timeoutHandle","original":{"line":32,"column":12},"generated":{"line":2,"column":899}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"timeoutHandle","original":{"line":32,"column":12},"generated":{"line":2,"column":903}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"timeout","original":{"line":33,"column":14},"generated":{"line":2,"column":905}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"timeout","original":{"line":33,"column":14},"generated":{"line":2,"column":911}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":33,"column":24},"generated":{"line":2,"column":913}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"Promise","original":{"line":33,"column":28},"generated":{"line":2,"column":917}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":33,"column":36},"generated":{"line":2,"column":925}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"resolve","original":{"line":33,"column":37},"generated":{"line":2,"column":926}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"reject","original":{"line":33,"column":46},"generated":{"line":2,"column":928}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"timeoutHandle","original":{"line":34,"column":12},"generated":{"line":2,"column":933}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"setTimeout","original":{"line":34,"column":28},"generated":{"line":2,"column":935}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":34,"column":39},"generated":{"line":2,"column":946}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"reject","original":{"line":34,"column":45},"generated":{"line":2,"column":950}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"Error","original":{"line":34,"column":52},"generated":{"line":2,"column":952}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"errorMessage","original":{"line":34,"column":58},"generated":{"line":2,"column":958}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"timeoutInMs","original":{"line":34,"column":74},"generated":{"line":2,"column":962}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"result","original":{"line":36,"column":14},"generated":{"line":2,"column":967}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"Promise","original":{"line":36,"column":29},"generated":{"line":2,"column":975}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"race","original":{"line":36,"column":37},"generated":{"line":2,"column":983}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":36,"column":42},"generated":{"line":2,"column":988}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"promise","original":{"line":37,"column":12},"generated":{"line":2,"column":989}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"timeout","original":{"line":38,"column":12},"generated":{"line":2,"column":991}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"result","original":{"line":41,"column":15},"generated":{"line":2,"column":995}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"clearTimeout","original":{"line":40,"column":8},"generated":{"line":2,"column":1002}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"timeoutHandle","original":{"line":40,"column":21},"generated":{"line":2,"column":1015}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"result","original":{"line":41,"column":15},"generated":{"line":2,"column":1018}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":44,"column":0},"generated":{"line":2,"column":1022}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"receiveInitMessage","original":{"line":44,"column":9},"generated":{"line":2,"column":1031}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"worker","original":{"line":44,"column":28},"generated":{"line":2,"column":1033}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":45,"column":11},"generated":{"line":2,"column":1036}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":45,"column":11},"generated":{"line":2,"column":1043}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"Promise","original":{"line":45,"column":15},"generated":{"line":2,"column":1047}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":45,"column":23},"generated":{"line":2,"column":1055}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"resolve","original":{"line":45,"column":24},"generated":{"line":2,"column":1056}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"reject","original":{"line":45,"column":33},"generated":{"line":2,"column":1058}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"messageHandler","original":{"line":46,"column":14},"generated":{"line":2,"column":1063}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"messageHandler","original":{"line":46,"column":14},"generated":{"line":2,"column":1069}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"event","original":{"line":46,"column":33},"generated":{"line":2,"column":1071}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"debugMessages","original":{"line":47,"column":12},"generated":{"line":2,"column":1075}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":47,"column":26},"generated":{"line":2,"column":1077}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"event","original":{"line":47,"column":82},"generated":{"line":2,"column":1132}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"data","original":{"line":47,"column":88},"generated":{"line":2,"column":1134}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"isInitMessage","original":{"line":48,"column":16},"generated":{"line":2,"column":1140}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"event","original":{"line":48,"column":30},"generated":{"line":2,"column":1142}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"data","original":{"line":48,"column":36},"generated":{"line":2,"column":1144}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"worker","original":{"line":49,"column":16},"generated":{"line":2,"column":1151}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"removeEventListener","original":{"line":49,"column":23},"generated":{"line":2,"column":1153}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":49,"column":43},"generated":{"line":2,"column":1173}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"messageHandler","original":{"line":49,"column":54},"generated":{"line":2,"column":1183}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"resolve","original":{"line":50,"column":16},"generated":{"line":2,"column":1186}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"event","original":{"line":50,"column":24},"generated":{"line":2,"column":1188}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"data","original":{"line":50,"column":30},"generated":{"line":2,"column":1190}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"isUncaughtErrorMessage","original":{"line":52,"column":21},"generated":{"line":2,"column":1197}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"event","original":{"line":52,"column":44},"generated":{"line":2,"column":1199}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"data","original":{"line":52,"column":50},"generated":{"line":2,"column":1201}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"worker","original":{"line":53,"column":16},"generated":{"line":2,"column":1209}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"removeEventListener","original":{"line":53,"column":23},"generated":{"line":2,"column":1211}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":53,"column":43},"generated":{"line":2,"column":1231}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"messageHandler","original":{"line":53,"column":54},"generated":{"line":2,"column":1241}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"reject","original":{"line":54,"column":16},"generated":{"line":2,"column":1244}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"common_1","original":{"line":54,"column":23},"generated":{"line":2,"column":1246}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"deserialize","original":{"line":54,"column":32},"generated":{"line":2,"column":1248}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"event","original":{"line":54,"column":44},"generated":{"line":2,"column":1260}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"data","original":{"line":54,"column":50},"generated":{"line":2,"column":1262}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"error","original":{"line":54,"column":55},"generated":{"line":2,"column":1267}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"worker","original":{"line":57,"column":8},"generated":{"line":2,"column":1277}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"addEventListener","original":{"line":57,"column":15},"generated":{"line":2,"column":1279}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":57,"column":32},"generated":{"line":2,"column":1296}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"messageHandler","original":{"line":57,"column":43},"generated":{"line":2,"column":1306}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":60,"column":0},"generated":{"line":2,"column":1311}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"createEventObservable","original":{"line":60,"column":9},"generated":{"line":2,"column":1320}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"worker","original":{"line":60,"column":31},"generated":{"line":2,"column":1322}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"workerTermination","original":{"line":60,"column":39},"generated":{"line":2,"column":1324}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":61,"column":11},"generated":{"line":2,"column":1327}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":61,"column":11},"generated":{"line":2,"column":1334}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"observable_fns_1","original":{"line":61,"column":15},"generated":{"line":2,"column":1338}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"Observable","original":{"line":61,"column":32},"generated":{"line":2,"column":1340}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"observer","original":{"line":61,"column":43},"generated":{"line":2,"column":1351}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"messageHandler","original":{"line":62,"column":14},"generated":{"line":2,"column":1355}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"messageHandler","original":{"line":62,"column":14},"generated":{"line":2,"column":1361}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"messageEvent","original":{"line":62,"column":33},"generated":{"line":2,"column":1363}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"workerEvent","original":{"line":63,"column":18},"generated":{"line":2,"column":1367}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"workerEvent","original":{"line":63,"column":18},"generated":{"line":2,"column":1373}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":63,"column":32},"generated":{"line":2,"column":1375}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"type","original":{"line":64,"column":16},"generated":{"line":2,"column":1376}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"master_1","original":{"line":64,"column":22},"generated":{"line":2,"column":1381}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"WorkerEventType","original":{"line":64,"column":31},"generated":{"line":2,"column":1383}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"message","original":{"line":64,"column":47},"generated":{"line":2,"column":1399}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"data","original":{"line":65,"column":16},"generated":{"line":2,"column":1407}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"messageEvent","original":{"line":65,"column":22},"generated":{"line":2,"column":1412}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"data","original":{"line":65,"column":35},"generated":{"line":2,"column":1414}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"observer","original":{"line":67,"column":12},"generated":{"line":2,"column":1420}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"next","original":{"line":67,"column":21},"generated":{"line":2,"column":1422}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"workerEvent","original":{"line":67,"column":26},"generated":{"line":2,"column":1427}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"rejectionHandler","original":{"line":69,"column":14},"generated":{"line":2,"column":1431}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"errorEvent","original":{"line":69,"column":35},"generated":{"line":2,"column":1433}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"debugThreadUtils","original":{"line":70,"column":12},"generated":{"line":2,"column":1437}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":70,"column":29},"generated":{"line":2,"column":1439}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"errorEvent","original":{"line":70,"column":77},"generated":{"line":2,"column":1486}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"workerEvent","original":{"line":71,"column":18},"generated":{"line":2,"column":1489}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"workerEvent","original":{"line":71,"column":18},"generated":{"line":2,"column":1495}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":71,"column":32},"generated":{"line":2,"column":1497}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"type","original":{"line":72,"column":16},"generated":{"line":2,"column":1498}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"master_1","original":{"line":72,"column":22},"generated":{"line":2,"column":1503}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"WorkerEventType","original":{"line":72,"column":31},"generated":{"line":2,"column":1505}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"internalError","original":{"line":72,"column":47},"generated":{"line":2,"column":1521}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"error","original":{"line":73,"column":16},"generated":{"line":2,"column":1535}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"Error","original":{"line":73,"column":23},"generated":{"line":2,"column":1541}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"errorEvent","original":{"line":73,"column":29},"generated":{"line":2,"column":1547}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"reason","original":{"line":73,"column":40},"generated":{"line":2,"column":1549}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"observer","original":{"line":75,"column":12},"generated":{"line":2,"column":1558}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"next","original":{"line":75,"column":21},"generated":{"line":2,"column":1560}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"workerEvent","original":{"line":75,"column":26},"generated":{"line":2,"column":1565}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"worker","original":{"line":77,"column":8},"generated":{"line":2,"column":1569}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"addEventListener","original":{"line":77,"column":15},"generated":{"line":2,"column":1571}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":77,"column":32},"generated":{"line":2,"column":1588}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"messageHandler","original":{"line":77,"column":43},"generated":{"line":2,"column":1598}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"worker","original":{"line":78,"column":8},"generated":{"line":2,"column":1601}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"addEventListener","original":{"line":78,"column":15},"generated":{"line":2,"column":1603}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":78,"column":32},"generated":{"line":2,"column":1620}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"rejectionHandler","original":{"line":78,"column":54},"generated":{"line":2,"column":1641}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"workerTermination","original":{"line":79,"column":8},"generated":{"line":2,"column":1644}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"then","original":{"line":79,"column":26},"generated":{"line":2,"column":1646}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":79,"column":31},"generated":{"line":2,"column":1651}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"terminationEvent","original":{"line":80,"column":18},"generated":{"line":2,"column":1656}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"terminationEvent","original":{"line":80,"column":18},"generated":{"line":2,"column":1662}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":80,"column":37},"generated":{"line":2,"column":1664}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"type","original":{"line":81,"column":16},"generated":{"line":2,"column":1665}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"master_1","original":{"line":81,"column":22},"generated":{"line":2,"column":1670}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"WorkerEventType","original":{"line":81,"column":31},"generated":{"line":2,"column":1672}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"termination","original":{"line":81,"column":47},"generated":{"line":2,"column":1688}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"worker","original":{"line":83,"column":12},"generated":{"line":2,"column":1701}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"removeEventListener","original":{"line":83,"column":19},"generated":{"line":2,"column":1703}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":83,"column":39},"generated":{"line":2,"column":1723}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"messageHandler","original":{"line":83,"column":50},"generated":{"line":2,"column":1733}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"worker","original":{"line":84,"column":12},"generated":{"line":2,"column":1736}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"removeEventListener","original":{"line":84,"column":19},"generated":{"line":2,"column":1738}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":84,"column":39},"generated":{"line":2,"column":1758}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"rejectionHandler","original":{"line":84,"column":61},"generated":{"line":2,"column":1779}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"observer","original":{"line":85,"column":12},"generated":{"line":2,"column":1782}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"next","original":{"line":85,"column":21},"generated":{"line":2,"column":1784}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"terminationEvent","original":{"line":85,"column":26},"generated":{"line":2,"column":1789}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"observer","original":{"line":86,"column":12},"generated":{"line":2,"column":1792}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"complete","original":{"line":86,"column":21},"generated":{"line":2,"column":1794}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":90,"column":0},"generated":{"line":2,"column":1809}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"createTerminator","original":{"line":90,"column":9},"generated":{"line":2,"column":1818}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"worker","original":{"line":90,"column":26},"generated":{"line":2,"column":1820}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":91,"column":10},"generated":{"line":2,"column":1823}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"termination","original":{"line":91,"column":11},"generated":{"line":2,"column":1829}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"resolver","original":{"line":91,"column":24},"generated":{"line":2,"column":1831}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"promise_1","original":{"line":91,"column":36},"generated":{"line":2,"column":1834}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"createPromiseWithResolver","original":{"line":91,"column":46},"generated":{"line":2,"column":1836}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":98,"column":11},"generated":{"line":2,"column":1864}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":98,"column":11},"generated":{"line":2,"column":1870}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"terminate","original":{"line":98,"column":13},"generated":{"line":2,"column":1871}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":92,"column":22},"generated":{"line":2,"column":1881}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"__awaiter","original":{"line":92,"column":28},"generated":{"line":2,"column":1885}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":92,"column":38},"generated":{"line":2,"column":1887}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":92,"column":44},"generated":{"line":2,"column":1897}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":92,"column":52},"generated":{"line":2,"column":1904}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":92,"column":60},"generated":{"line":2,"column":1906}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"debugThreadUtils","original":{"line":93,"column":8},"generated":{"line":2,"column":1918}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":93,"column":25},"generated":{"line":2,"column":1920}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"worker","original":{"line":95,"column":14},"generated":{"line":2,"column":1948}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"terminate","original":{"line":95,"column":21},"generated":{"line":2,"column":1950}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"resolver","original":{"line":96,"column":8},"generated":{"line":2,"column":1962}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"termination","original":{"line":98,"column":24},"generated":{"line":2,"column":1968}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"termination","original":{"line":98,"column":24},"generated":{"line":2,"column":1980}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":100,"column":0},"generated":{"line":2,"column":1983}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"setPrivateThreadProps","original":{"line":100,"column":9},"generated":{"line":2,"column":1992}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"raw","original":{"line":100,"column":31},"generated":{"line":2,"column":1994}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"worker","original":{"line":100,"column":36},"generated":{"line":2,"column":1996}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"workerEvents","original":{"line":100,"column":44},"generated":{"line":2,"column":1998}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"terminate","original":{"line":100,"column":58},"generated":{"line":2,"column":2000}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"workerErrors","original":{"line":101,"column":10},"generated":{"line":2,"column":2003}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"workerErrors","original":{"line":101,"column":10},"generated":{"line":2,"column":2009}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"workerEvents","original":{"line":101,"column":25},"generated":{"line":2,"column":2011}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"filter","original":{"line":102,"column":9},"generated":{"line":2,"column":2013}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"event","original":{"line":102,"column":16},"generated":{"line":2,"column":2020}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"event","original":{"line":102,"column":25},"generated":{"line":2,"column":2023}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"type","original":{"line":102,"column":31},"generated":{"line":2,"column":2025}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"master_1","original":{"line":102,"column":40},"generated":{"line":2,"column":2032}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"WorkerEventType","original":{"line":102,"column":49},"generated":{"line":2,"column":2034}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"internalError","original":{"line":102,"column":65},"generated":{"line":2,"column":2050}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"map","original":{"line":103,"column":9},"generated":{"line":2,"column":2065}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"errorEvent","original":{"line":103,"column":13},"generated":{"line":2,"column":2069}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"errorEvent","original":{"line":103,"column":27},"generated":{"line":2,"column":2072}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"error","original":{"line":103,"column":38},"generated":{"line":2,"column":2074}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"Object","original":{"line":105,"column":11},"generated":{"line":2,"column":2081}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"Object","original":{"line":105,"column":11},"generated":{"line":2,"column":2088}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"assign","original":{"line":105,"column":18},"generated":{"line":2,"column":2095}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"raw","original":{"line":105,"column":25},"generated":{"line":2,"column":2102}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":105,"column":30},"generated":{"line":2,"column":2104}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"symbols_1","original":{"line":106,"column":9},"generated":{"line":2,"column":2105}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"symbols_1","original":{"line":106,"column":9},"generated":{"line":2,"column":2106}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"$errors","original":{"line":106,"column":19},"generated":{"line":2,"column":2108}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"workerErrors","original":{"line":106,"column":29},"generated":{"line":2,"column":2117}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"symbols_1","original":{"line":107,"column":9},"generated":{"line":2,"column":2119}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"symbols_1","original":{"line":107,"column":9},"generated":{"line":2,"column":2120}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"$events","original":{"line":107,"column":19},"generated":{"line":2,"column":2122}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"workerEvents","original":{"line":107,"column":29},"generated":{"line":2,"column":2131}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"symbols_1","original":{"line":108,"column":9},"generated":{"line":2,"column":2133}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"symbols_1","original":{"line":108,"column":9},"generated":{"line":2,"column":2134}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"$terminate","original":{"line":108,"column":19},"generated":{"line":2,"column":2136}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"terminate","original":{"line":108,"column":32},"generated":{"line":2,"column":2148}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"symbols_1","original":{"line":109,"column":9},"generated":{"line":2,"column":2150}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"symbols_1","original":{"line":109,"column":9},"generated":{"line":2,"column":2151}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"$worker","original":{"line":109,"column":19},"generated":{"line":2,"column":2153}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"worker","original":{"line":109,"column":29},"generated":{"line":2,"column":2162}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":121,"column":0},"generated":{"line":2,"column":2166}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"spawn","original":{"line":121,"column":9},"generated":{"line":2,"column":2175}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"worker","original":{"line":121,"column":15},"generated":{"line":2,"column":2177}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"options","original":{"line":121,"column":23},"generated":{"line":2,"column":2179}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"__awaiter","original":{"line":122,"column":11},"generated":{"line":2,"column":2182}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"__awaiter","original":{"line":122,"column":11},"generated":{"line":2,"column":2189}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":122,"column":21},"generated":{"line":2,"column":2191}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":122,"column":27},"generated":{"line":2,"column":2201}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":122,"column":35},"generated":{"line":2,"column":2208}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":122,"column":43},"generated":{"line":2,"column":2210}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"debugSpawn","original":{"line":123,"column":8},"generated":{"line":2,"column":2222}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":123,"column":19},"generated":{"line":2,"column":2224}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"initMessage","original":{"line":124,"column":14},"generated":{"line":2,"column":2251}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"exposed","original":{"line":125,"column":14},"generated":{"line":2,"column":2257}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"withTimeout","original":{"line":124,"column":34},"generated":{"line":2,"column":2266}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"receiveInitMessage","original":{"line":124,"column":46},"generated":{"line":2,"column":2268}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"worker","original":{"line":124,"column":65},"generated":{"line":2,"column":2270}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"options","original":{"line":124,"column":74},"generated":{"line":2,"column":2273}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"options","original":{"line":124,"column":85},"generated":{"line":2,"column":2276}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"timeout","original":{"line":124,"column":93},"generated":{"line":2,"column":2278}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"options","original":{"line":124,"column":103},"generated":{"line":2,"column":2286}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"timeout","original":{"line":124,"column":111},"generated":{"line":2,"column":2288}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"initMessageTimeout","original":{"line":124,"column":121},"generated":{"line":2,"column":2296}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"initMessageTimeout","original":{"line":124,"column":203},"generated":{"line":2,"column":2360}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"exposed","original":{"line":125,"column":36},"generated":{"line":2,"column":2406}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":126,"column":14},"generated":{"line":2,"column":2415}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"termination","original":{"line":126,"column":16},"generated":{"line":2,"column":2427}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":126,"column":14},"generated":{"line":2,"column":2429}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"terminate","original":{"line":126,"column":29},"generated":{"line":2,"column":2439}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"createTerminator","original":{"line":126,"column":43},"generated":{"line":2,"column":2442}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"worker","original":{"line":126,"column":60},"generated":{"line":2,"column":2444}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"events","original":{"line":127,"column":14},"generated":{"line":2,"column":2447}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"createEventObservable","original":{"line":127,"column":23},"generated":{"line":2,"column":2449}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"worker","original":{"line":127,"column":45},"generated":{"line":2,"column":2451}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"termination","original":{"line":127,"column":53},"generated":{"line":2,"column":2453}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"exposed","original":{"line":128,"column":12},"generated":{"line":2,"column":2456}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":128,"column":29},"generated":{"line":2,"column":2459}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"exposed","original":{"line":128,"column":12},"generated":{"line":2,"column":2472}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"type","original":{"line":128,"column":20},"generated":{"line":2,"column":2474}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":128,"column":41},"generated":{"line":2,"column":2479}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"setPrivateThreadProps","original":{"line":130,"column":19},"generated":{"line":2,"column":2480}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"setPrivateThreadProps","original":{"line":130,"column":19},"generated":{"line":2,"column":2487}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"invocation_proxy_1","original":{"line":129,"column":26},"generated":{"line":2,"column":2489}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"createProxyFunction","original":{"line":129,"column":45},"generated":{"line":2,"column":2491}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"worker","original":{"line":129,"column":65},"generated":{"line":2,"column":2511}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"worker","original":{"line":130,"column":48},"generated":{"line":2,"column":2514}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"events","original":{"line":130,"column":56},"generated":{"line":2,"column":2516}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"terminate","original":{"line":130,"column":64},"generated":{"line":2,"column":2518}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":132,"column":13},"generated":{"line":2,"column":2521}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":132,"column":34},"generated":{"line":2,"column":2524}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"exposed","original":{"line":132,"column":17},"generated":{"line":2,"column":2535}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"type","original":{"line":132,"column":25},"generated":{"line":2,"column":2537}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":132,"column":44},"generated":{"line":2,"column":2542}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"setPrivateThreadProps","original":{"line":134,"column":19},"generated":{"line":2,"column":2543}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"setPrivateThreadProps","original":{"line":134,"column":19},"generated":{"line":2,"column":2550}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"invocation_proxy_1","original":{"line":133,"column":26},"generated":{"line":2,"column":2552}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"createProxyModule","original":{"line":133,"column":45},"generated":{"line":2,"column":2554}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"worker","original":{"line":133,"column":63},"generated":{"line":2,"column":2572}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"exposed","original":{"line":133,"column":71},"generated":{"line":2,"column":2574}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"methods","original":{"line":133,"column":79},"generated":{"line":2,"column":2576}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"worker","original":{"line":134,"column":48},"generated":{"line":2,"column":2585}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"events","original":{"line":134,"column":56},"generated":{"line":2,"column":2587}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"terminate","original":{"line":134,"column":64},"generated":{"line":2,"column":2589}},{"source":"../node_modules/threads/dist/master/spawn.js","original":{"line":136,"column":13},"generated":{"line":2,"column":2592}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"type","original":{"line":137,"column":18},"generated":{"line":2,"column":2593}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"type","original":{"line":137,"column":18},"generated":{"line":2,"column":2599}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"exposed","original":{"line":137,"column":25},"generated":{"line":2,"column":2601}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"type","original":{"line":137,"column":33},"generated":{"line":2,"column":2603}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"Error","original":{"line":138,"column":18},"generated":{"line":2,"column":2608}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"Error","original":{"line":138,"column":18},"generated":{"line":2,"column":2614}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"type","original":{"line":138,"column":83},"generated":{"line":2,"column":2679}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"exports","original":{"line":142,"column":0},"generated":{"line":2,"column":2687}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"spawn","original":{"line":142,"column":8},"generated":{"line":2,"column":2695}},{"source":"../node_modules/threads/dist/master/spawn.js","name":"spawn","original":{"line":142,"column":16},"generated":{"line":2,"column":2701}}],"sources":{"../node_modules/threads/dist/master/spawn.js":"\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst debug_1 = __importDefault(require(\"debug\"));\nconst observable_fns_1 = require(\"observable-fns\");\nconst common_1 = require(\"../common\");\nconst promise_1 = require(\"../promise\");\nconst symbols_1 = require(\"../symbols\");\nconst master_1 = require(\"../types/master\");\nconst invocation_proxy_1 = require(\"./invocation-proxy\");\nconst debugMessages = debug_1.default(\"threads:master:messages\");\nconst debugSpawn = debug_1.default(\"threads:master:spawn\");\nconst debugThreadUtils = debug_1.default(\"threads:master:thread-utils\");\nconst isInitMessage = (data) => data && data.type === \"init\";\nconst isUncaughtErrorMessage = (data) => data && data.type === \"uncaughtError\";\nconst initMessageTimeout = typeof process !== \"undefined\" && process.env.THREADS_WORKER_INIT_TIMEOUT\n    ? Number.parseInt(process.env.THREADS_WORKER_INIT_TIMEOUT, 10)\n    : 10000;\nfunction withTimeout(promise, timeoutInMs, errorMessage) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let timeoutHandle;\n        const timeout = new Promise((resolve, reject) => {\n            timeoutHandle = setTimeout(() => reject(Error(errorMessage)), timeoutInMs);\n        });\n        const result = yield Promise.race([\n            promise,\n            timeout\n        ]);\n        clearTimeout(timeoutHandle);\n        return result;\n    });\n}\nfunction receiveInitMessage(worker) {\n    return new Promise((resolve, reject) => {\n        const messageHandler = ((event) => {\n            debugMessages(\"Message from worker before finishing initialization:\", event.data);\n            if (isInitMessage(event.data)) {\n                worker.removeEventListener(\"message\", messageHandler);\n                resolve(event.data);\n            }\n            else if (isUncaughtErrorMessage(event.data)) {\n                worker.removeEventListener(\"message\", messageHandler);\n                reject(common_1.deserialize(event.data.error));\n            }\n        });\n        worker.addEventListener(\"message\", messageHandler);\n    });\n}\nfunction createEventObservable(worker, workerTermination) {\n    return new observable_fns_1.Observable(observer => {\n        const messageHandler = ((messageEvent) => {\n            const workerEvent = {\n                type: master_1.WorkerEventType.message,\n                data: messageEvent.data\n            };\n            observer.next(workerEvent);\n        });\n        const rejectionHandler = ((errorEvent) => {\n            debugThreadUtils(\"Unhandled promise rejection event in thread:\", errorEvent);\n            const workerEvent = {\n                type: master_1.WorkerEventType.internalError,\n                error: Error(errorEvent.reason)\n            };\n            observer.next(workerEvent);\n        });\n        worker.addEventListener(\"message\", messageHandler);\n        worker.addEventListener(\"unhandledrejection\", rejectionHandler);\n        workerTermination.then(() => {\n            const terminationEvent = {\n                type: master_1.WorkerEventType.termination\n            };\n            worker.removeEventListener(\"message\", messageHandler);\n            worker.removeEventListener(\"unhandledrejection\", rejectionHandler);\n            observer.next(terminationEvent);\n            observer.complete();\n        });\n    });\n}\nfunction createTerminator(worker) {\n    const [termination, resolver] = promise_1.createPromiseWithResolver();\n    const terminate = () => __awaiter(this, void 0, void 0, function* () {\n        debugThreadUtils(\"Terminating worker\");\n        // Newer versions of worker_threads workers return a promise\n        yield worker.terminate();\n        resolver();\n    });\n    return { terminate, termination };\n}\nfunction setPrivateThreadProps(raw, worker, workerEvents, terminate) {\n    const workerErrors = workerEvents\n        .filter(event => event.type === master_1.WorkerEventType.internalError)\n        .map(errorEvent => errorEvent.error);\n    // tslint:disable-next-line prefer-object-spread\n    return Object.assign(raw, {\n        [symbols_1.$errors]: workerErrors,\n        [symbols_1.$events]: workerEvents,\n        [symbols_1.$terminate]: terminate,\n        [symbols_1.$worker]: worker\n    });\n}\n/**\n * Spawn a new thread. Takes a fresh worker instance, wraps it in a thin\n * abstraction layer to provide the transparent API and verifies that\n * the worker has initialized successfully.\n *\n * @param worker Instance of `Worker`. Either a web worker, `worker_threads` worker or `tiny-worker` worker.\n * @param [options]\n * @param [options.timeout] Init message timeout. Default: 10000 or set by environment variable.\n */\nfunction spawn(worker, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        debugSpawn(\"Initializing new thread\");\n        const initMessage = yield withTimeout(receiveInitMessage(worker), options && options.timeout ? options.timeout : initMessageTimeout, `Timeout: Did not receive an init message from worker after ${initMessageTimeout}ms. Make sure the worker calls expose().`);\n        const exposed = initMessage.exposed;\n        const { termination, terminate } = createTerminator(worker);\n        const events = createEventObservable(worker, termination);\n        if (exposed.type === \"function\") {\n            const proxy = invocation_proxy_1.createProxyFunction(worker);\n            return setPrivateThreadProps(proxy, worker, events, terminate);\n        }\n        else if (exposed.type === \"module\") {\n            const proxy = invocation_proxy_1.createProxyModule(worker, exposed.methods);\n            return setPrivateThreadProps(proxy, worker, events, terminate);\n        }\n        else {\n            const type = exposed.type;\n            throw Error(`Worker init message states unexpected type of expose(): ${type}`);\n        }\n    });\n}\nexports.spawn = spawn;\n"},"lineCount":null}},"error":null,"hash":"9e70bb0e2d024ae8c4d5b2d2998815aa","cacheData":{"env":{}}}
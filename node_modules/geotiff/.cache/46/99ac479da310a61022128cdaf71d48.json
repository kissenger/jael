{"id":"zXl4","dependencies":[{"name":"/home/travis/build/geotiffjs/geotiff.js/package.json","includedInParent":true,"mtime":1586203732493},{"name":"/home/travis/build/geotiffjs/geotiff.js/node_modules/threads/package.json","includedInParent":true,"mtime":1586165210060},{"name":"observable-fns","loc":{"line":1,"column":27},"parent":"/home/travis/build/geotiffjs/geotiff.js/node_modules/threads/dist-esm/observable-promise.js","resolved":"/home/travis/build/geotiffjs/geotiff.js/node_modules/observable-fns/dist.esm/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.ObservablePromise=void 0;var t=require(\"observable-fns\");const e=()=>void 0,s=t=>t,r=t=>Promise.resolve().then(t);function i(t){throw t}function n(t){return t&&\"function\"==typeof t.then}class o extends t.Observable{constructor(t){super(e=>{const s=this,r=Object.assign(Object.assign({},e),{complete(){e.complete(),s.onCompletion()},error(t){e.error(t),s.onError(t)},next(t){e.next(t),s.onNext(t)}});try{return this.initHasRun=!0,t(r)}catch(i){r.error(i)}}),this.initHasRun=!1,this.fulfillmentCallbacks=[],this.rejectionCallbacks=[],this.firstValueSet=!1,this.state=\"pending\"}onNext(t){this.firstValueSet||(this.firstValue=t,this.firstValueSet=!0)}onError(t){this.state=\"rejected\",this.rejection=t;for(const e of this.rejectionCallbacks)r(()=>e(t))}onCompletion(){this.state=\"fulfilled\";for(const t of this.fulfillmentCallbacks)r(()=>t(this.firstValue))}then(t,e){const r=t||s,n=e||i;let o=!1;return new Promise((t,e)=>{const s=s=>{if(!o){o=!0;try{t(n(s))}catch(r){e(r)}}};return this.initHasRun||this.subscribe({error:s}),\"fulfilled\"===this.state?t(r(this.firstValue)):\"rejected\"===this.state?(o=!0,t(n(this.rejection))):(this.fulfillmentCallbacks.push(e=>{try{t(r(e))}catch(i){s(i)}}),void this.rejectionCallbacks.push(s))})}catch(t){return this.then(void 0,t)}finally(t){const s=t||e;return this.then(t=>(s(),t),()=>s())}static from(t){return n(t)?new o(e=>{t.then(t=>{e.next(t),e.complete()},t=>{e.error(t)})}):super.from(t)}}exports.ObservablePromise=o;"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":24,"column":50},"generated":{"line":1,"column":0}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":24,"column":50},"generated":{"line":1,"column":13}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":24,"column":50},"generated":{"line":1,"column":20}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":24,"column":50},"generated":{"line":1,"column":35}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":24,"column":50},"generated":{"line":1,"column":43}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":24,"column":50},"generated":{"line":1,"column":56}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":24,"column":50},"generated":{"line":1,"column":57}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":24,"column":50},"generated":{"line":1,"column":64}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":24,"column":50},"generated":{"line":1,"column":68}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":24,"column":50},"generated":{"line":1,"column":76}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":24,"column":50},"generated":{"line":1,"column":99}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":1,"column":0},"generated":{"line":1,"column":101}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":1,"column":0},"generated":{"line":1,"column":105}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":1,"column":0},"generated":{"line":1,"column":107}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":1,"column":0},"generated":{"line":1,"column":115}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":2,"column":0},"generated":{"line":1,"column":133}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"doNothing","original":{"line":2,"column":6},"generated":{"line":1,"column":139}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":2,"column":18},"generated":{"line":1,"column":141}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"undefined","original":{"line":2,"column":24},"generated":{"line":1,"column":150}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"returnInput","original":{"line":3,"column":6},"generated":{"line":1,"column":152}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"input","original":{"line":3,"column":21},"generated":{"line":1,"column":154}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"input","original":{"line":3,"column":31},"generated":{"line":1,"column":157}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"runDeferred","original":{"line":4,"column":6},"generated":{"line":1,"column":159}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"fn","original":{"line":4,"column":21},"generated":{"line":1,"column":161}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"Promise","original":{"line":4,"column":28},"generated":{"line":1,"column":164}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"resolve","original":{"line":4,"column":36},"generated":{"line":1,"column":172}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"then","original":{"line":4,"column":46},"generated":{"line":1,"column":182}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"fn","original":{"line":4,"column":51},"generated":{"line":1,"column":187}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":5,"column":0},"generated":{"line":1,"column":190}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"fail","original":{"line":5,"column":9},"generated":{"line":1,"column":199}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"error","original":{"line":5,"column":14},"generated":{"line":1,"column":201}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"error","original":{"line":6,"column":10},"generated":{"line":1,"column":204}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"error","original":{"line":6,"column":10},"generated":{"line":1,"column":210}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":8,"column":0},"generated":{"line":1,"column":212}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"isThenable","original":{"line":8,"column":9},"generated":{"line":1,"column":221}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"thing","original":{"line":8,"column":20},"generated":{"line":1,"column":223}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"thing","original":{"line":9,"column":11},"generated":{"line":1,"column":226}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"thing","original":{"line":9,"column":11},"generated":{"line":1,"column":233}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":9,"column":42},"generated":{"line":1,"column":236}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"thing","original":{"line":9,"column":27},"generated":{"line":1,"column":255}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"then","original":{"line":9,"column":33},"generated":{"line":1,"column":257}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":24,"column":7},"generated":{"line":1,"column":262}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"ObservablePromise","original":{"line":24,"column":13},"generated":{"line":1,"column":268}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"Observable","original":{"line":24,"column":39},"generated":{"line":1,"column":278}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":24,"column":7},"generated":{"line":1,"column":280}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"constructor","original":{"line":25,"column":4},"generated":{"line":1,"column":291}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"init","original":{"line":25,"column":16},"generated":{"line":1,"column":303}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"originalObserver","original":{"line":26,"column":14},"generated":{"line":1,"column":306}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"originalObserver","original":{"line":26,"column":14},"generated":{"line":1,"column":312}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"self","original":{"line":28,"column":18},"generated":{"line":1,"column":316}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"self","original":{"line":28,"column":18},"generated":{"line":1,"column":322}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":28,"column":25},"generated":{"line":1,"column":324}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"observer","original":{"line":29,"column":18},"generated":{"line":1,"column":329}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"Object","original":{"line":29,"column":29},"generated":{"line":1,"column":331}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"assign","original":{"line":29,"column":36},"generated":{"line":1,"column":338}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"Object","original":{"line":29,"column":43},"generated":{"line":1,"column":345}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"assign","original":{"line":29,"column":50},"generated":{"line":1,"column":352}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":29,"column":57},"generated":{"line":1,"column":359}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"originalObserver","original":{"line":29,"column":61},"generated":{"line":1,"column":362}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":29,"column":80},"generated":{"line":1,"column":365}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"complete","original":{"line":29,"column":82},"generated":{"line":1,"column":366}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"originalObserver","original":{"line":30,"column":20},"generated":{"line":1,"column":377}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"complete","original":{"line":30,"column":37},"generated":{"line":1,"column":379}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"self","original":{"line":31,"column":20},"generated":{"line":1,"column":390}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onCompletion","original":{"line":31,"column":25},"generated":{"line":1,"column":392}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"error","original":{"line":33,"column":16},"generated":{"line":1,"column":408}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"error","original":{"line":33,"column":22},"generated":{"line":1,"column":414}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"originalObserver","original":{"line":34,"column":20},"generated":{"line":1,"column":417}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"error","original":{"line":34,"column":37},"generated":{"line":1,"column":419}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"error","original":{"line":34,"column":43},"generated":{"line":1,"column":425}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"self","original":{"line":35,"column":20},"generated":{"line":1,"column":428}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onError","original":{"line":35,"column":25},"generated":{"line":1,"column":430}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"error","original":{"line":35,"column":33},"generated":{"line":1,"column":438}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"next","original":{"line":37,"column":16},"generated":{"line":1,"column":442}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"value","original":{"line":37,"column":21},"generated":{"line":1,"column":447}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"originalObserver","original":{"line":38,"column":20},"generated":{"line":1,"column":450}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"next","original":{"line":38,"column":37},"generated":{"line":1,"column":452}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"value","original":{"line":38,"column":42},"generated":{"line":1,"column":457}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"self","original":{"line":39,"column":20},"generated":{"line":1,"column":460}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onNext","original":{"line":39,"column":25},"generated":{"line":1,"column":462}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"value","original":{"line":39,"column":32},"generated":{"line":1,"column":469}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":41,"column":16},"generated":{"line":1,"column":475}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"init","original":{"line":43,"column":23},"generated":{"line":1,"column":479}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"initHasRun","original":{"line":42,"column":21},"generated":{"line":1,"column":486}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"initHasRun","original":{"line":42,"column":21},"generated":{"line":1,"column":491}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":42,"column":34},"generated":{"line":1,"column":503}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"init","original":{"line":43,"column":23},"generated":{"line":1,"column":505}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"observer","original":{"line":43,"column":28},"generated":{"line":1,"column":507}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":45,"column":12},"generated":{"line":1,"column":510}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"error","original":{"line":45,"column":19},"generated":{"line":1,"column":516}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"observer","original":{"line":46,"column":16},"generated":{"line":1,"column":519}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"error","original":{"line":46,"column":25},"generated":{"line":1,"column":521}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"error","original":{"line":46,"column":31},"generated":{"line":1,"column":527}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"initHasRun","original":{"line":49,"column":13},"generated":{"line":1,"column":533}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"initHasRun","original":{"line":49,"column":13},"generated":{"line":1,"column":538}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":49,"column":26},"generated":{"line":1,"column":550}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"fulfillmentCallbacks","original":{"line":50,"column":13},"generated":{"line":1,"column":552}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"fulfillmentCallbacks","original":{"line":50,"column":13},"generated":{"line":1,"column":557}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":50,"column":36},"generated":{"line":1,"column":578}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"rejectionCallbacks","original":{"line":51,"column":13},"generated":{"line":1,"column":581}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"rejectionCallbacks","original":{"line":51,"column":13},"generated":{"line":1,"column":586}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":51,"column":34},"generated":{"line":1,"column":605}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"firstValueSet","original":{"line":52,"column":13},"generated":{"line":1,"column":608}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"firstValueSet","original":{"line":52,"column":13},"generated":{"line":1,"column":613}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":52,"column":29},"generated":{"line":1,"column":628}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"state","original":{"line":53,"column":13},"generated":{"line":1,"column":630}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"state","original":{"line":53,"column":13},"generated":{"line":1,"column":635}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":53,"column":21},"generated":{"line":1,"column":641}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onNext","original":{"line":55,"column":4},"generated":{"line":1,"column":651}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"value","original":{"line":55,"column":11},"generated":{"line":1,"column":658}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":56,"column":13},"generated":{"line":1,"column":661}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"firstValueSet","original":{"line":56,"column":18},"generated":{"line":1,"column":666}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"firstValue","original":{"line":57,"column":17},"generated":{"line":1,"column":682}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"firstValue","original":{"line":57,"column":17},"generated":{"line":1,"column":687}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"value","original":{"line":57,"column":30},"generated":{"line":1,"column":698}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"firstValueSet","original":{"line":58,"column":17},"generated":{"line":1,"column":700}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"firstValueSet","original":{"line":58,"column":17},"generated":{"line":1,"column":705}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":58,"column":33},"generated":{"line":1,"column":720}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onError","original":{"line":61,"column":4},"generated":{"line":1,"column":723}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"error","original":{"line":61,"column":12},"generated":{"line":1,"column":731}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"state","original":{"line":62,"column":13},"generated":{"line":1,"column":734}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"state","original":{"line":62,"column":13},"generated":{"line":1,"column":739}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":62,"column":21},"generated":{"line":1,"column":745}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"rejection","original":{"line":63,"column":13},"generated":{"line":1,"column":756}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"rejection","original":{"line":63,"column":13},"generated":{"line":1,"column":761}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"error","original":{"line":63,"column":25},"generated":{"line":1,"column":771}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":64,"column":13},"generated":{"line":1,"column":773}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":64,"column":13},"generated":{"line":1,"column":777}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onRejected","original":{"line":64,"column":19},"generated":{"line":1,"column":783}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":64,"column":33},"generated":{"line":1,"column":788}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"rejectionCallbacks","original":{"line":64,"column":38},"generated":{"line":1,"column":793}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"runDeferred","original":{"line":67,"column":12},"generated":{"line":1,"column":812}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":67,"column":24},"generated":{"line":1,"column":814}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onRejected","original":{"line":67,"column":30},"generated":{"line":1,"column":818}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"error","original":{"line":67,"column":41},"generated":{"line":1,"column":820}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onCompletion","original":{"line":70,"column":4},"generated":{"line":1,"column":824}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"state","original":{"line":71,"column":13},"generated":{"line":1,"column":839}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"state","original":{"line":71,"column":13},"generated":{"line":1,"column":844}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":71,"column":21},"generated":{"line":1,"column":850}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":72,"column":13},"generated":{"line":1,"column":862}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":72,"column":13},"generated":{"line":1,"column":866}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onFulfilled","original":{"line":72,"column":19},"generated":{"line":1,"column":872}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":72,"column":34},"generated":{"line":1,"column":877}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"fulfillmentCallbacks","original":{"line":72,"column":39},"generated":{"line":1,"column":882}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"runDeferred","original":{"line":75,"column":12},"generated":{"line":1,"column":903}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":75,"column":24},"generated":{"line":1,"column":905}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onFulfilled","original":{"line":75,"column":30},"generated":{"line":1,"column":909}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":75,"column":42},"generated":{"line":1,"column":911}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"firstValue","original":{"line":75,"column":47},"generated":{"line":1,"column":916}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"then","original":{"line":78,"column":4},"generated":{"line":1,"column":929}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onFulfilledRaw","original":{"line":78,"column":9},"generated":{"line":1,"column":934}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onRejectedRaw","original":{"line":78,"column":25},"generated":{"line":1,"column":936}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onFulfilled","original":{"line":79,"column":14},"generated":{"line":1,"column":939}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onFulfilled","original":{"line":79,"column":14},"generated":{"line":1,"column":945}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onFulfilledRaw","original":{"line":79,"column":28},"generated":{"line":1,"column":947}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"returnInput","original":{"line":79,"column":46},"generated":{"line":1,"column":950}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onRejected","original":{"line":80,"column":14},"generated":{"line":1,"column":952}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onRejectedRaw","original":{"line":80,"column":27},"generated":{"line":1,"column":954}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"fail","original":{"line":80,"column":44},"generated":{"line":1,"column":957}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onRejectedCalled","original":{"line":81,"column":12},"generated":{"line":1,"column":959}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onRejectedCalled","original":{"line":81,"column":12},"generated":{"line":1,"column":963}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":81,"column":31},"generated":{"line":1,"column":966}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":82,"column":15},"generated":{"line":1,"column":968}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":82,"column":15},"generated":{"line":1,"column":975}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"Promise","original":{"line":82,"column":19},"generated":{"line":1,"column":979}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":82,"column":27},"generated":{"line":1,"column":987}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"resolve","original":{"line":82,"column":28},"generated":{"line":1,"column":988}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"reject","original":{"line":82,"column":37},"generated":{"line":1,"column":990}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"rejectionCallback","original":{"line":83,"column":18},"generated":{"line":1,"column":995}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"rejectionCallback","original":{"line":83,"column":18},"generated":{"line":1,"column":1001}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"error","original":{"line":83,"column":39},"generated":{"line":1,"column":1003}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onRejectedCalled","original":{"line":84,"column":20},"generated":{"line":1,"column":1007}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onRejectedCalled","original":{"line":84,"column":20},"generated":{"line":1,"column":1011}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onRejectedCalled","original":{"line":84,"column":20},"generated":{"line":1,"column":1013}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onRejectedCalled","original":{"line":86,"column":16},"generated":{"line":1,"column":1014}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":86,"column":35},"generated":{"line":1,"column":1017}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":87,"column":20},"generated":{"line":1,"column":1019}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"resolve","original":{"line":88,"column":20},"generated":{"line":1,"column":1023}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onRejected","original":{"line":88,"column":28},"generated":{"line":1,"column":1025}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"error","original":{"line":88,"column":39},"generated":{"line":1,"column":1027}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":90,"column":16},"generated":{"line":1,"column":1031}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"anotherError","original":{"line":90,"column":23},"generated":{"line":1,"column":1037}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"reject","original":{"line":91,"column":20},"generated":{"line":1,"column":1040}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"anotherError","original":{"line":91,"column":27},"generated":{"line":1,"column":1042}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":105,"column":16},"generated":{"line":1,"column":1048}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":102,"column":17},"generated":{"line":1,"column":1055}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"initHasRun","original":{"line":102,"column":22},"generated":{"line":1,"column":1060}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"subscribe","original":{"line":103,"column":21},"generated":{"line":1,"column":1072}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"subscribe","original":{"line":103,"column":21},"generated":{"line":1,"column":1077}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":103,"column":31},"generated":{"line":1,"column":1087}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"error","original":{"line":103,"column":33},"generated":{"line":1,"column":1088}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"rejectionCallback","original":{"line":103,"column":40},"generated":{"line":1,"column":1094}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":105,"column":31},"generated":{"line":1,"column":1098}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":105,"column":16},"generated":{"line":1,"column":1112}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"state","original":{"line":105,"column":21},"generated":{"line":1,"column":1117}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"resolve","original":{"line":106,"column":23},"generated":{"line":1,"column":1123}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onFulfilled","original":{"line":106,"column":31},"generated":{"line":1,"column":1125}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":106,"column":43},"generated":{"line":1,"column":1127}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"firstValue","original":{"line":106,"column":48},"generated":{"line":1,"column":1132}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":108,"column":31},"generated":{"line":1,"column":1145}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":108,"column":16},"generated":{"line":1,"column":1158}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"state","original":{"line":108,"column":21},"generated":{"line":1,"column":1163}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onRejectedCalled","original":{"line":109,"column":16},"generated":{"line":1,"column":1170}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":109,"column":35},"generated":{"line":1,"column":1173}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"resolve","original":{"line":110,"column":23},"generated":{"line":1,"column":1175}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onRejected","original":{"line":110,"column":31},"generated":{"line":1,"column":1177}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":110,"column":42},"generated":{"line":1,"column":1179}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"rejection","original":{"line":110,"column":47},"generated":{"line":1,"column":1184}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"fulfillmentCallbacks","original":{"line":112,"column":17},"generated":{"line":1,"column":1198}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"fulfillmentCallbacks","original":{"line":112,"column":17},"generated":{"line":1,"column":1203}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"push","original":{"line":112,"column":38},"generated":{"line":1,"column":1224}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"value","original":{"line":94,"column":41},"generated":{"line":1,"column":1229}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":95,"column":20},"generated":{"line":1,"column":1233}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"resolve","original":{"line":96,"column":20},"generated":{"line":1,"column":1237}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onFulfilled","original":{"line":96,"column":28},"generated":{"line":1,"column":1239}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"value","original":{"line":96,"column":40},"generated":{"line":1,"column":1241}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":98,"column":16},"generated":{"line":1,"column":1245}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"error","original":{"line":98,"column":23},"generated":{"line":1,"column":1251}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"rejectionCallback","original":{"line":99,"column":20},"generated":{"line":1,"column":1254}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"error","original":{"line":99,"column":38},"generated":{"line":1,"column":1256}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"rejectionCallbacks","original":{"line":113,"column":17},"generated":{"line":1,"column":1267}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"rejectionCallbacks","original":{"line":113,"column":17},"generated":{"line":1,"column":1272}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"push","original":{"line":113,"column":36},"generated":{"line":1,"column":1291}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"rejectionCallback","original":{"line":113,"column":41},"generated":{"line":1,"column":1296}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"catch","original":{"line":116,"column":4},"generated":{"line":1,"column":1302}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onRejected","original":{"line":116,"column":10},"generated":{"line":1,"column":1308}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":117,"column":15},"generated":{"line":1,"column":1311}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":117,"column":15},"generated":{"line":1,"column":1318}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"then","original":{"line":117,"column":20},"generated":{"line":1,"column":1323}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"undefined","original":{"line":117,"column":25},"generated":{"line":1,"column":1333}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onRejected","original":{"line":117,"column":36},"generated":{"line":1,"column":1335}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"finally","original":{"line":119,"column":4},"generated":{"line":1,"column":1338}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onCompleted","original":{"line":119,"column":12},"generated":{"line":1,"column":1346}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"handler","original":{"line":120,"column":14},"generated":{"line":1,"column":1349}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"handler","original":{"line":120,"column":14},"generated":{"line":1,"column":1355}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"onCompleted","original":{"line":120,"column":24},"generated":{"line":1,"column":1357}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"doNothing","original":{"line":120,"column":39},"generated":{"line":1,"column":1360}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":121,"column":15},"generated":{"line":1,"column":1362}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":121,"column":15},"generated":{"line":1,"column":1369}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"then","original":{"line":121,"column":20},"generated":{"line":1,"column":1374}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"value","original":{"line":121,"column":26},"generated":{"line":1,"column":1379}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"handler","original":{"line":122,"column":12},"generated":{"line":1,"column":1383}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"value","original":{"line":123,"column":19},"generated":{"line":1,"column":1387}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":124,"column":11},"generated":{"line":1,"column":1390}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"handler","original":{"line":124,"column":17},"generated":{"line":1,"column":1394}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"from","original":{"line":126,"column":11},"generated":{"line":1,"column":1399}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"thing","original":{"line":126,"column":16},"generated":{"line":1,"column":1411}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"isThenable","original":{"line":127,"column":12},"generated":{"line":1,"column":1414}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"isThenable","original":{"line":127,"column":12},"generated":{"line":1,"column":1421}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"thing","original":{"line":127,"column":23},"generated":{"line":1,"column":1423}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":128,"column":19},"generated":{"line":1,"column":1426}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"ObservablePromise","original":{"line":128,"column":23},"generated":{"line":1,"column":1430}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"observer","original":{"line":128,"column":41},"generated":{"line":1,"column":1432}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"thing","original":{"line":136,"column":16},"generated":{"line":1,"column":1436}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"then","original":{"line":136,"column":22},"generated":{"line":1,"column":1438}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"value","original":{"line":129,"column":37},"generated":{"line":1,"column":1443}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"observer","original":{"line":130,"column":20},"generated":{"line":1,"column":1447}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"next","original":{"line":130,"column":29},"generated":{"line":1,"column":1449}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"value","original":{"line":130,"column":34},"generated":{"line":1,"column":1454}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"observer","original":{"line":131,"column":20},"generated":{"line":1,"column":1457}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"complete","original":{"line":131,"column":29},"generated":{"line":1,"column":1459}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"error","original":{"line":133,"column":36},"generated":{"line":1,"column":1471}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"observer","original":{"line":134,"column":20},"generated":{"line":1,"column":1475}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"error","original":{"line":134,"column":29},"generated":{"line":1,"column":1477}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"error","original":{"line":134,"column":35},"generated":{"line":1,"column":1483}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":140,"column":19},"generated":{"line":1,"column":1490}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"from","original":{"line":140,"column":25},"generated":{"line":1,"column":1496}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","name":"thing","original":{"line":140,"column":30},"generated":{"line":1,"column":1501}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":24,"column":50},"generated":{"line":1,"column":1505}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":24,"column":50},"generated":{"line":1,"column":1513}},{"source":"../node_modules/threads/dist-esm/observable-promise.js","original":{"line":24,"column":50},"generated":{"line":1,"column":1531}}],"sources":{"../node_modules/threads/dist-esm/observable-promise.js":"import { Observable } from \"observable-fns\";\nconst doNothing = () => undefined;\nconst returnInput = (input) => input;\nconst runDeferred = (fn) => Promise.resolve().then(fn);\nfunction fail(error) {\n    throw error;\n}\nfunction isThenable(thing) {\n    return thing && typeof thing.then === \"function\";\n}\n/**\n * Creates a hybrid, combining the APIs of an Observable and a Promise.\n *\n * It is used to proxy async process states when we are initially not sure\n * if that async process will yield values once (-> Promise) or multiple\n * times (-> Observable).\n *\n * Note that the observable promise inherits some of the observable's characteristics:\n * The `init` function will be called *once for every time anyone subscribes to it*.\n *\n * If this is undesired, derive a hot observable from it using `makeHot()` and\n * subscribe to that.\n */\nexport class ObservablePromise extends Observable {\n    constructor(init) {\n        super(originalObserver => {\n            // tslint:disable-next-line no-this-assignment\n            const self = this;\n            const observer = Object.assign(Object.assign({}, originalObserver), { complete() {\n                    originalObserver.complete();\n                    self.onCompletion();\n                },\n                error(error) {\n                    originalObserver.error(error);\n                    self.onError(error);\n                },\n                next(value) {\n                    originalObserver.next(value);\n                    self.onNext(value);\n                } });\n            try {\n                this.initHasRun = true;\n                return init(observer);\n            }\n            catch (error) {\n                observer.error(error);\n            }\n        });\n        this.initHasRun = false;\n        this.fulfillmentCallbacks = [];\n        this.rejectionCallbacks = [];\n        this.firstValueSet = false;\n        this.state = \"pending\";\n    }\n    onNext(value) {\n        if (!this.firstValueSet) {\n            this.firstValue = value;\n            this.firstValueSet = true;\n        }\n    }\n    onError(error) {\n        this.state = \"rejected\";\n        this.rejection = error;\n        for (const onRejected of this.rejectionCallbacks) {\n            // Promisifying the call to turn errors into unhandled promise rejections\n            // instead of them failing sync and cancelling the iteration\n            runDeferred(() => onRejected(error));\n        }\n    }\n    onCompletion() {\n        this.state = \"fulfilled\";\n        for (const onFulfilled of this.fulfillmentCallbacks) {\n            // Promisifying the call to turn errors into unhandled promise rejections\n            // instead of them failing sync and cancelling the iteration\n            runDeferred(() => onFulfilled(this.firstValue));\n        }\n    }\n    then(onFulfilledRaw, onRejectedRaw) {\n        const onFulfilled = onFulfilledRaw || returnInput;\n        const onRejected = onRejectedRaw || fail;\n        let onRejectedCalled = false;\n        return new Promise((resolve, reject) => {\n            const rejectionCallback = (error) => {\n                if (onRejectedCalled)\n                    return;\n                onRejectedCalled = true;\n                try {\n                    resolve(onRejected(error));\n                }\n                catch (anotherError) {\n                    reject(anotherError);\n                }\n            };\n            const fulfillmentCallback = (value) => {\n                try {\n                    resolve(onFulfilled(value));\n                }\n                catch (error) {\n                    rejectionCallback(error);\n                }\n            };\n            if (!this.initHasRun) {\n                this.subscribe({ error: rejectionCallback });\n            }\n            if (this.state === \"fulfilled\") {\n                return resolve(onFulfilled(this.firstValue));\n            }\n            if (this.state === \"rejected\") {\n                onRejectedCalled = true;\n                return resolve(onRejected(this.rejection));\n            }\n            this.fulfillmentCallbacks.push(fulfillmentCallback);\n            this.rejectionCallbacks.push(rejectionCallback);\n        });\n    }\n    catch(onRejected) {\n        return this.then(undefined, onRejected);\n    }\n    finally(onCompleted) {\n        const handler = onCompleted || doNothing;\n        return this.then((value) => {\n            handler();\n            return value;\n        }, () => handler());\n    }\n    static from(thing) {\n        if (isThenable(thing)) {\n            return new ObservablePromise(observer => {\n                const onFulfilled = (value) => {\n                    observer.next(value);\n                    observer.complete();\n                };\n                const onRejected = (error) => {\n                    observer.error(error);\n                };\n                thing.then(onFulfilled, onRejected);\n            });\n        }\n        else {\n            return super.from(thing);\n        }\n    }\n}\n"},"lineCount":null}},"error":null,"hash":"da127e71ce772a65c532b4afa0d34867","cacheData":{"env":{}}}